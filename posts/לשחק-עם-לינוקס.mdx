---
title: 砖拽 注 拽住
category: 拽住
createdAt: 05.08.2022
description: 
image: https://images.unsplash.com/photo-1640552435388-a54879e72b28?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80

---

## 拽

  专爪转 转 转砖转转 拽 砖.
   专 转砖转转 拽 砖专 驻住 专
(  驻注 转 转 转).
转砖转转 转 转转  拽 拽专  
userspace.
砖专 转转 转 转 转砖转转 转拽转  注转, 专砖转  注 注 砖
Windows.
WSL2
注拽专  专抓
kernel module
  拽爪转 专 拽驻    注专
kernel
专 砖
Windows.
驻爪 砖转 专转  专转  拽  专转 砖
PopOS,
 专  专转 砖 驻转专   专注.
住   砖 驻转 砖
ko
爪注转 砖转/住转, 转拽专   砖 ,  拽专  爪专 
kernel module
砖 转 住专 拽专 专注 驻砖 注砖
panic.
砖 拽专 转 爪专 爪注
reboot

.


转 驻转 爪拽   转 驻砖 驻转专 转专 , 砖专  转 砖转 专
1. 转砖转转 爪专 转  专拽专  专爪转 驻砖专转 爪注 cross-compile 砖 专.
2. 转 砖 爪专转 kernel 注 ko 砖 爪专 转 专.

## qemu
[qemu](https://www.qemu.org/)
 转砖转转   爪 砖   砖住驻专    砖 注转 爪注 爪 专拽专转 砖转.
专   专抓 注 砖
x86
 住抓
mips, 砖 注 注 爪专 专砖 砖.
住祝  砖 爪  注 砖 专  驻转  拽专住 转  爪专 砖.
住 住祝
qemu
 砖 驻砖
process
专  专 砖转  转 拽专 注
gdb! (  拽专 砖砖 住转)

### 转拽 砖砖
转拽 砖
qemu
  驻砖
```bash
sudo apt install qemu-system-x86
```
砖专 转 专  专拽专 砖专爪,  转 驻砖转
(驻砖转 == 转 专拽专  砖 砖,   专专  砖).
qemu
爪驻   驻专专  注转  专抓   转 专注  砖 爪
kernel
注专转 驻注 linux转
 转 专爪.

## 爪专转 专住转 Linux 砖
专  注 驻砖 专 爪转
[gist](https://gist.github.com/chrisdone/02e165a0004be33734ac2334f215380e)
砖  砖住专 转  砖 注 转 注砖转 转.
转 住专 转 拽 砖 砖爪专 注 转 爪专 驻爪转
linux
砖 注爪.

1. kernel - 爪专 拽驻 专住转 kernel.
2. 注专转 拽爪 - 专爪 爪专 注专转 拽爪 砖专 转 专 住住 注 注 linux.
3. init - 住拽专驻 注 砖kernel 拽驻抓  专 砖注专 转 注专转 爪 userspace.

### 拽驻 kernel
转 专 转 source 砖 kernel 
[repo](https://github.com/torvalds/linux/tree/v5.19)
砖 trovalds, 专 转  转 转拽转 `/opt` 砖.
```bash
cd /opt
sudo mkdir linux
# To prevent permission errors
sudo chown nadav linux 

cd linux
# May take some time
git clone git@github.com:torvalds/linux.git . 
```
专 砖专 专  砖转 住 砖 转
```bash
export OPT=/opt
export BUILDS=/home/nadav/projects/hook_infra/mini_linux
mkdir -p $BUILDS
export LINUX=$OPT/linux
export LINUX_BUILD=$BUILDS/linux
mkdir -p $LINUX_BUILD
```




